# 고급 백업 유틸리티 설정 파일
# backup.conf
#
# 이 파일은 백업 유틸리티의 기본 동작을 설정합니다.
# 명령줄 옵션으로 개별 설정을 덮어쓸 수 있습니다.

# =====================================================
# 압축 설정
# =====================================================

# 기본 압축 타입: none, gzip, zlib, lz4
compression=gzip

# 압축 레벨 (1-9): 1=빠름/큰크기, 9=느림/작은크기
compression_level=6

# =====================================================
# 성능 설정
# =====================================================

# 병렬 처리 스레드 수 (1-4)
# 0으로 설정하면 CPU 코어 수만큼 자동 설정
num_threads=4

# 버퍼 크기 (바이트) - 파일 복사 시 사용
buffer_size=65536

# =====================================================
# 로깅 설정
# =====================================================

# 로그 레벨: 0=ERROR, 1=WARN, 2=INFO, 3=DEBUG
log_level=2

# 기본 로그 파일 경로 (빈 값이면 로깅 비활성화)
log_file=backup.log

# 로그 로테이션 크기 (바이트)
log_rotation_size=10485760

# =====================================================
# 백업 기본 설정
# =====================================================

# 기본 백업 모드: full, incremental, differential
backup_mode=full

# 메타데이터 보존 여부 (0=비활성화, 1=활성화)
preserve_metadata=1

# 백업 후 검증 여부 (0=비활성화, 1=활성화)
verify_backup=0

# 진행률 표시 여부 (0=비활성화, 1=활성화)
show_progress=1

# =====================================================
# 충돌 처리 설정
# =====================================================

# 파일 충돌 시 기본 동작: ask, overwrite, skip, rename
conflict_resolution=ask

# 덮어쓰기 확인 여부 (0=확인안함, 1=확인함)
confirm_overwrite=1

# =====================================================
# 필터링 설정
# =====================================================

# 기본 제외 패턴 (여러 개는 쉼표로 구분)
exclude_pattern=*.tmp,*.swp,*.log,*~,.DS_Store,Thumbs.db

# 기본 포함 패턴 (빈 값이면 모든 파일 포함)
include_pattern=

# 최대 파일 크기 (바이트, 0이면 제한 없음)
max_file_size=1073741824

# 최소 파일 크기 (바이트)
min_file_size=0

# 숨김 파일 포함 여부 (0=제외, 1=포함)
include_hidden=0

# =====================================================
# 디렉토리별 설정
# =====================================================

# 시스템 디렉토리 자동 제외 여부
exclude_system_dirs=1

# 제외할 디렉토리 패턴
exclude_dirs=/proc,/sys,/dev,/tmp,/var/tmp

# 심볼릭 링크 처리: ignore, follow, backup_link
symlink_handling=backup_link

# =====================================================
# 네트워크 및 성능 최적화
# =====================================================

# 네트워크 타임아웃 (초)
network_timeout=300

# 재시도 횟수
retry_count=3

# 재시도 간격 (초)
retry_delay=5

# 체크섬 계산 여부 (0=비활성화, 1=활성화)
calculate_checksum=1

# 체크섬 알고리즘: md5, sha1, sha256
checksum_algorithm=md5

# =====================================================
# 보안 설정
# =====================================================

# 백업 파일 권한 (8진수)
backup_file_permissions=644

# 백업 디렉토리 권한 (8진수)
backup_dir_permissions=755

# 임시 파일 정리 여부
cleanup_temp_files=1

# =====================================================
# 증분 백업 설정
# =====================================================

# 증분 백업 시 변경 감지 방법: mtime, size, checksum, all
change_detection=mtime

# 메타데이터 파일 이름
metadata_filename=.backup_metadata

# 증분 백업 히스토리 보관 개수
incremental_history_count=10

# =====================================================
# 알림 설정
# =====================================================

# 백업 완료 시 알림 (0=비활성화, 1=활성화)
notification_enabled=0

# 알림 명령 (시스템 알림 명령)
notification_command=notify-send "백업 완료" "백업이 성공적으로 완료되었습니다."

# 이메일 알림 주소 (빈 값이면 비활성화)
notification_email=

# =====================================================
# 고급 설정
# =====================================================

# 디버그 모드 (0=비활성화, 1=활성화)
debug_mode=0

# 메모리 사용량 모니터링 (0=비활성화, 1=활성화)
monitor_memory=0

# 통계 정보 저장 (0=비활성화, 1=활성화)
save_statistics=1

# 통계 파일 경로
statistics_file=backup_stats.json

# 프로파일링 활성화 (개발용)
profiling_enabled=0

# =====================================================
# 사용자 정의 명령
# =====================================================

# 백업 전 실행할 명령
pre_backup_command=

# 백업 후 실행할 명령
post_backup_command=

# 백업 실패 시 실행할 명령
on_error_command=

# =====================================================
# 플러그인 설정 (향후 확장용)
# =====================================================

# 플러그인 디렉토리
plugin_directory=/usr/local/lib/backup/plugins

# 활성화된 플러그인 목록
enabled_plugins=

# =====================================================
# 환경별 프로파일
# =====================================================

# 현재 활성 프로파일: default, fast, secure, network
active_profile=default

# 프로파일별 설정은 [profile:name] 섹션에서 정의
# 예: [profile:fast]에서 빠른 백업용 설정 정의